:root{
  --ink: #0b0c10;
  --paper: rgba(255,255,255,.78);
  --paper2: rgba(255,255,255,.64);

  --sun: #f7c948;
  --sun2:#f2a900;

  --rose:#ff3d7a;
  --rose2:#ff6ea8;

  --glass: blur(12px);
  --shadow: 0 26px 80px rgba(0,0,0,.22);
  --radius: 26px;
}

*{ box-sizing:border-box; }
html, body { height:100%; }
body{
  margin:0;
  color: var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  overflow-x:hidden;
  background:#000;
}

/* ===== Background ===== */
.bg{
  position:fixed;
  inset:0;
  z-index:-3;
  background-image: url("assets/garden.jpg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.bg__overlay{
  position:absolute;
  inset:0;
  background:
    linear-gradient(
      180deg,
      rgba(10,6,16,.60) 0%,
      rgba(60,10,30,.44) 34%,
      rgba(140,20,65,.28) 62%,
      rgba(255,255,255,.10) 100%
    );
}

.bg__bloom{
  position:absolute;
  inset:-10%;
  background:
    radial-gradient(circle at 18% 82%, rgba(255,61,122,.45), transparent 58%),
    radial-gradient(circle at 82% 22%, rgba(255,110,168,.34), transparent 60%),
    radial-gradient(circle at 55% 55%, rgba(247,201,72,.22), transparent 62%),
    radial-gradient(circle at 40% 18%, rgba(255,255,255,.18), transparent 52%);
  mix-blend-mode: screen;
  filter: blur(0.4px);
}

.bg__grain{
  position:absolute;
  inset:0;
  opacity:.12;
  background-image: radial-gradient(circle at 9px 9px, rgba(0,0,0,.35) 1px, transparent 2px);
  background-size: 28px 28px;
  mix-blend-mode: soft-light;
}

/* ===== Canvas ===== */
#fx{
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
}

/* ===== Floaties ===== */
#floaties{
  position:fixed;
  inset:0;
  z-index:50;
  pointer-events:none;
}

.floaty{
  position:absolute;
  will-change: transform, opacity;
  filter: drop-shadow(0 14px 16px rgba(0,0,0,.12));
  animation: floatUp linear forwards;
  opacity:.95;
}

@keyframes floatUp{
  from{ transform: translateY(0) scale(.95) rotate(0deg); opacity:0; }
  10%{ opacity:1; }
  to{ transform: translateY(-120vh) scale(1.18) rotate(18deg); opacity:0; }
}

/* ===== Layout ===== */
.stage{
  min-height:100%;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding: 24px 16px 16px;
  gap: 14px;
}

.card, .reveal{
  width:min(760px, 94vw);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.46);
  backdrop-filter: var(--glass);
}

/* ===== Question Card ===== */
.card{
  background: var(--paper);
  padding: 20px 18px 16px;
  position:relative;
  overflow:hidden;
}

.card::before{
  content:"";
  position:absolute;
  inset:-45%;
  background:
    radial-gradient(circle at 20% 22%, rgba(255,255,255,.65), transparent 45%),
    radial-gradient(circle at 78% 18%, rgba(255,255,255,.52), transparent 48%),
    radial-gradient(circle at 55% 70%, rgba(255,255,255,.46), transparent 52%),
    radial-gradient(circle at 40% 85%, rgba(255,61,122,.18), transparent 55%);
  transform: rotate(10deg);
  opacity:.9;
}

.card__header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.dots span{
  width:9px;
  height:9px;
  background: rgba(10,6,16,.22);
  border-radius:50%;
  display:inline-block;
  margin-right:6px;
}

.tag{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color: rgba(10,6,16,.68);
}

.headline{
  margin: 14px 0 8px;
  text-align:center;
  font-size: clamp(28px, 5.6vw, 48px);
  line-height: 1.04;
}

.accent{
  background: linear-gradient(90deg, var(--rose), var(--sun2), var(--rose2));
  -webkit-background-clip:text;
  color:transparent;
}

.copy{
  text-align:center;
  margin-bottom:16px;
}

.actions{
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
  min-height:120px;
}

/* ===== Buttons ===== */
.btn{
  border:0;
  border-radius:999px;
  padding:14px 22px;
  font-weight:900;
  cursor:pointer;
  transition:.15s;
  box-shadow:0 18px 34px rgba(0,0,0,.14);
}

/* YES */
.btn--yes{
  background:#0b0c10;
  color:#fff;
}

.btn--yes.is-love{
  background: linear-gradient(180deg, #ff3d7a, #ff1f64);
}

.btn--yes.is-love::after{
  content:"";
  position:absolute;
  inset:-6px;
  border-radius:999px;
  background: linear-gradient(90deg,#ff5fa2,#ff2e6c,#ff9ac8);
  filter: blur(14px);
  animation: lovePulse 1.2s infinite;
}

@keyframes lovePulse{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.08);}
}

/* NO */
.btn--no{
  padding:10px 16px;
  font-size:14px;
  background:#fff;
  border:1px solid rgba(0,0,0,.12);
  opacity:.92;
}

.btn--no.is-given-up{
  opacity:.75;
}

/* ===== Reveal ===== */
.reveal{
  background: var(--paper2);
  padding:18px;
  display:none;
  flex-direction:column;
  align-items:center;
}

/* ===== Popup ===== */
.popup{
  position:fixed;
  inset:0;
  display:none;
  z-index:200;
}
.popup.is-open{display:block;}

.popup__backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(6px);
}

.popup__card{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  background:#fff;
  border-radius:28px;
  display:grid;
  grid-template-columns:1fr 1fr;
  max-width:820px;
  width:92vw;
}

.popup__bouquet img{
  width:100%;
  animation: bouquetPop .6s ease;
}

@keyframes bouquetPop{
  from{transform:scale(.9);opacity:0;}
  to{transform:scale(1);opacity:1;}
}

/* ===== Footer ===== */
.footer{
  font-size:12px;
  color:#fff;
  opacity:.85;
}

/* ===== Mobile safety ===== */
@media (max-width:520px){
  .actions{
    flex-direction:column;
    gap:14px;
  }
  .btn--yes{width:82%;}
  .btn--no{width:66%;}
}
